database.oracle.config.url = jdbc:oracle:thin:@localhost:1521:XE
database.oracle.config.user = userForPort
database.oracle.config.password = 0000
database.oracle.connected.fail = Failed to connect to the Oracle database. Cause: %s

jsp.login = /jsp/loginPage.jsp
jsp.admin.main = /jsp/admin_pages/adminMainPage.jsp
jsp.admin.createUser = /jsp/admin_pages/createUserPage.jsp
jsp.admin.createPier = /jsp/admin_pages/createPierPage.jsp
jsp.admin.createShip = /jsp/admin_pages/createShipPage.jsp
jsp.admin.editUser = /jsp/admin_pages/editUserPage.jsp

jsp.main.noLogin = /jsp/noLoginMainPage.jsp

requests.sql.get.users.allUsers = SELECT users.id as user_id, users.login, users.password, users.full_name, users.status_id AS user_status_id, users.role_id, users_roles.title AS role_title, users_statuses.title AS user_status_title FROM users JOIN users_roles ON users.role_id = users_roles.id JOIN users_statuses ON users.status_id = users_statuses.id
requests.sql.get.user.byId = SELECT users.id AS user_id, users.login, users.password, users.status_id AS user_status_id, full_name, users.role_id, users_roles.title AS role_title, users_statuses.title AS user_status_title FROM users JOIN users_roles ON users.role_id = users_roles.id JOIN users_statuses ON users.status_id = users_statuses.id WHERE users.id = ?
requests.sql.get.user.byLogin = SELECT users.id AS user_id, users.login, users.password, users.status_id AS user_status_id, full_name, users.role_id, users_roles.title AS role_title, users_statuses.title AS user_status_title FROM users JOIN users_roles ON users.role_id = users_roles.id JOIN users_statuses ON users.status_id = users_statuses.id WHERE login = ?
requests.sql.get.users.count = SELECT COUNT(*) FROM users
requests.sql.get.users.lastId = SELECT id FROM (SELECT id FROM users ORDER BY id DESC) WHERE ROWNUM = 1
requests.sql.get.ships.allShips = SELECT id AS ship_id, title AS ship_title, capacity AS ship_capacity FROM ships
requests.sql.get.users.ships = SELECT ships.id AS ship_id, ships.title AS ship_title, ships.capacity AS ship_capacity FROM ships WHERE user_id = ?
requests.sql.get.users.ships.lastId = SELECT id FROM (SELECT id FROM ships ORDER BY id DESC) WHERE ROWNUM = 1
requests.sql.get.users.roles = SELECT id AS role_id, title AS role_title FROM users_roles
requests.sql.get.users.role.byTitle = SELECT id AS role_id, title AS role_title FROM users_roles WHERE title = ?
requests.sql.get.users.captains.id = SELECT users.id FROM users LEFT JOIN users_roles ON users.role_id = users_roles.id WHERE users_roles.title = 'CAPTAIN'  AND users.id NOT IN (SELECT user_id FROM ships)
requests.sql.get.piers.allPiers = SELECT * FROM (SELECT piers.*, NVL((piers.pier_capacity - sum(goods.count)), piers.pier_capacity) as residual_capacity FROM ((SELECT piers.id AS pier_id, piers.capacity AS pier_capacity, 'FREE' AS pier_status FROM piers WHERE id NOT IN (SELECT pier_id FROM statements WHERE finish_statement_date is null) AND NOT (SELECT type_id FROM (SELECT * FROM statements WHERE finish_statement_date is not null AND pier_id = id ORDER BY finish_statement_date DESC) WHERE ROWNUM = 1) = 0 OR id NOT IN (SELECT pier_id FROM statements) UNION SELECT piers.id AS pier_id, piers.capacity AS pier_capacity, 'BUSY' AS pier_status FROM piers  WHERE id IN (SELECT pier_id FROM statements WHERE finish_statement_date is null) OR (SELECT type_id FROM (SELECT * FROM statements WHERE finish_statement_date is not null AND pier_id = id ORDER BY finish_statement_date DESC) WHERE ROWNUM = 1) = 0) piers LEFT JOIN goods ON piers.pier_id = goods.pier_id) GROUP BY piers.pier_id, piers.pier_capacity, piers.pier_status) ORDER BY pier_id
requests.sql.get.piers.count = SELECT COUNT(*) FROM piers
requests.sql.get.piers.free.count = SELECT count(*) FROM piers WHERE id NOT IN (SELECT pier_id FROM statements WHERE finish_statement_date is null) AND NOT (SELECT type_id FROM (SELECT * FROM statements WHERE finish_statement_date is not null AND pier_id = id ORDER BY finish_statement_date DESC) WHERE ROWNUM = 1) = 0 OR id NOT IN (SELECT pier_id FROM statements)
requests.sql.get.piers.lastId = SELECT id FROM (SELECT id FROM piers ORDER BY id DESC) WHERE ROWNUM = 1
requests.sql.get.statements.allStatements = SELECT statements.*, users.login, users.password, users.full_name, users.status_id AS user_status_id, users.role_id, users_roles.title AS role_title, users_statuses.title AS user_status_title, ships.title AS ship_title, ships.capacity AS ship_capacity, piers.capacity as pier_capacity, statements_types.title AS type_title, statements_statuses.title AS status_title FROM statements LEFT JOIN piers ON statements.pier_id = piers.id JOIN ships ON statements.ship_id = ships.id JOIN users ON statements.user_id = users.id JOIN users_roles ON users.role_id = users_roles.id JOIN users_statuses ON users.status_id = users_statuses.id JOIN statements_types ON statements.type_id = statements_types.id JOIN statements_statuses ON statements.status_id = statements_statuses.id
requests.sql.create.user = INSERT INTO users VALUES(?, ?, ?, ?, ?, ?)
requests.sql.create.ship = INSERT INTO ships VALUES(?, ?, ?, ?)
requests.sql.create.pier = INSERT INTO piers VALUES(?, ?)

requests.sql.update.user = UPDATE users SET login = ?, password = ?, full_name = ?, status_id = ?, role_id = ? WHERE id = ?
requests.sql.update.pier = UPDATE piers SET id = ?, capacity = ? WHERE id = ?

requests.sql.delete.user = DELETE FROM users WHERE id = ?
requests.sql.delete.pier = DELETE FROM piers WHERE id = ?

exceptions.sql.disconnect = Failed to disconnect from datastore! Cause: %s
exceptions.sql.request = Failed to request. Cause: %s

table.verticalDelimiter = |
table.horizontalDelimiterPiece = -

port.info.name = Port name

database.users.id = user_id
database.users.login = login
database.users.password = password
database.users.statusId = user_status_id
database.users.statusTitle = user_status_title
database.users.roleId = role_id
database.users.roleTitle = role_title
database.users.fullName = full_name

database.piers.id = pier_id
database.piers.capacity = pier_capacity
database.piers.capacity.residual = residual_capacity
database.piers.status = pier_status

database.ships.id = ship_id
database.ships.title = ship_title
database.ships.capacity = ship_capacity

database.statements.id = id
database.statements.typeId = type_id
database.statements.typeTitle = type_title
database.statements.statusId = status_id
database.statements.statusTitle = status_title
database.statements.doDate = do_statement_date
database.statements.finishDate = finish_statement_date